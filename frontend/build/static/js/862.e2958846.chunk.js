"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[862],{1114:(e,t,s)=>{s.d(t,{R:()=>a,i:()=>n});let a=function(e){return e.Match="match",e.UnMatch="unmatch",e}({}),n=function(e){return e.FANCY="FANCY",e.MATCH_ODDS="MATCH_ODDS",e.CASINO="CASINO",e.CASINOFANCY="CASINOFANCY",e}({})},3119:(e,t,s)=>{s.d(t,{A:()=>f});var a=s(4919),n=s(9950),l=s(8674),c=s(3074),d=s(455),r=s(1114),o=s(6213),i=s(5231),u=s(4137),m=s(8101),x=s(9564),h=s(1407),b=s(6319),p=s(9779),j=s(4414);const N=e=>{var t,s,N;let{stake:f}=e;console.log(f,"stake");const[k,v]=n.useState({}),g=(0,l.G)(d.iZ,c.bN),y=(0,l.G)(d.Rf,c.bN),A=(0,l.G)(d.tf),{socketUser:w}=(0,u.E$)(),D=(0,l.j)();n.useEffect((()=>{v((0,a.A)((0,a.A)({},g.betData),{},{odds:"string"===typeof g.betData.odds?parseFloat(g.betData.odds):g.betData.odds}))}),[g.betData]),n.useEffect((()=>{y.status===i.I.Done&&(w.emit("place-bet",y.bet),D((0,d._1)({isOpen:!1,betData:{}})),D((0,d.xw)(A+1)),x.A.getUserBalance().then((e=>{D((0,h.Zy)(e.data.data))})))}),[y.status]);const C=e=>{const t=(0,a.A)({},k);t.stack=t.stack+e;const s=F(t);t.pnl=s.pnl,t.exposure=s.exposure,v(t),D((0,d._1)((0,a.A)((0,a.A)({},g),{},{betData:(0,a.A)({},t)})))},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inc";const t=(0,a.A)({},k);if(t.oddsType===m.P.BM||t.oddsType===m.P.F)return!0;switch(e){case"inc":t.odds=parseFloat((t.odds+.01).toFixed(4));break;case"dec":t.odds=parseFloat((t.odds-.01).toFixed(4))}const s=F(t);t.pnl=s.pnl,t.exposure=s.exposure,t.type=t.odds!==t.currentMarketOdds?r.R.UnMatch:r.R.Match,D((0,d._1)((0,a.A)((0,a.A)({},g),{},{betData:(0,a.A)({},t)}))),v(t)},F=e=>{let t=0,s=0;return Object.keys(e).length>0&&(e.betOn==r.i.MATCH_ODDS||"fancy1"===e.gtype?e.isBack?(t=e.odds*e.stack-e.stack,s=-1*e.stack):(t=e.stack,s=-1*(e.odds*e.stack-e.stack)):e.betOn!=r.i.CASINO?e.isBack?(t=e.volume*e.stack/100,s=-e.stack):(s=-e.volume*e.stack/100,t=e.stack):e.betOn==r.i.CASINO&&(33==e.matchId?(t=0,s=-50*e.stack*1):9==e.matchId?e.isBack?(t=e.odds/100*e.stack,s=-e.stack):(t=e.stack,s=-1*(e.odds*e.stack-e.stack)):"yes"==e.fancystatus?e.isBack?(t=e.volume*e.stack/100,s=-e.stack):(s=-e.volume*e.stack/100,t=e.stack):e.isBack?(t=e.odds*e.stack-e.stack,s=-1*e.stack):(t=e.stack,s=-1*(e.odds*e.stack-e.stack)))),{pnl:parseInt(t.toFixed()),exposure:parseInt(s.toFixed())}},[S,B]=n.useState(7);n.useEffect((()=>{var e;if(!g.isOpen||"CASINO"===(null===(e=g.betData)||void 0===e?void 0:e.betOn))return;B(7);const t=setInterval((()=>{B((e=>e<=1?(clearInterval(t),_(),0):e-1))}),1e3);return()=>clearInterval(t)}),[g.isOpen,null===(t=g.betData)||void 0===t?void 0:t.betOn]);const _=()=>{D((0,d._1)((0,a.A)((0,a.A)({},g),{},{isOpen:!1,betData:(0,a.A)((0,a.A)({},g.betData),{},{stack:0,pnl:0})})))};return console.log(g,"hajdd"),console.log("place bet re render "),(0,j.jsx)(j.Fragment,{children:g.isOpen&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{onClick:e=>{e.preventDefault(),D((0,d._1)((0,a.A)((0,a.A)({},g),{},{isOpen:!1,betData:(0,a.A)((0,a.A)({},g.betData),{},{stack:0,pnl:0})})))},className:"backdrop-custom"}),(0,j.jsxs)("div",{className:"card m-b-10 place-bet",children:[(0,j.jsxs)("div",{className:"card-header d-flex align-items-center justify-content-between",children:[(0,j.jsx)("h6",{className:"card-title d-inline-block ",children:"Place Bet"}),"CASINO"===(null===(s=g.betData)||void 0===s?void 0:s.betOn)?"":(0,j.jsxs)("div",{children:["Timer: ",S," seconds"]}),(0,j.jsx)("span",{className:"card-title d-inline-block col-2",onClick:_,children:"X"})]}),(0,j.jsx)("div",{className:"table-responsive ".concat((k.isBack,"white")),children:(0,j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),D((0,o.N)(k))},children:[(0,j.jsxs)("table",{className:"coupon-table  table table-borderedless",children:[(0,j.jsx)("thead",{className:"d-none",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{style:{width:"35%",textAlign:"left"},children:"(Bet for)"}),(0,j.jsx)("th",{style:{width:"25%",textAlign:"left"},children:"Odds"}),(0,j.jsx)("th",{style:{width:"15%",textAlign:"left"},children:"Stake"}),(0,j.jsx)("th",{style:{width:"15%",textAlign:"right"},children:"Profit"})]})}),(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsxs)("td",{className:"text-center d-none",children:[(0,j.jsx)("a",{onClick:_,className:"text-danger",children:(0,j.jsx)("i",{className:"fa fa-times"})}),k.selectionName]}),(0,j.jsx)("td",{className:"bet-odds ",children:(0,j.jsxs)("div",{className:"form-group d-none",children:[(0,j.jsx)("input",{value:parseFloat(null===k||void 0===k||null===(N=k.odds)||void 0===N?void 0:N.toFixed(4))||"",type:"text",required:!0,maxLength:4,readOnly:!0,className:"amountint",style:{width:60,verticalAlign:"middle"}}),(0,j.jsxs)("div",{className:"spinner-buttons  input-group-btn btn-group-vertical",children:[(0,j.jsx)("button",{type:"button",className:"custom-btn-spinner btn btn-xs btn-default",onClick:()=>O("inc"),children:(0,j.jsx)("i",{className:"fa fa-angle-up"})}),(0,j.jsx)("button",{type:"button",className:"custom-btn-spinner btn btn-xs btn-default",onClick:()=>O("dec"),children:(0,j.jsx)("i",{className:"fa fa-angle-down"})})]})]})}),(0,j.jsx)("td",{className:"bet-stakes w-100",children:(0,j.jsx)("div",{className:"form-group bet-stake w-100",children:(0,j.jsx)("input",{maxLength:10,required:!0,type:"number",value:k.stack||"",onBlur:()=>{C(0)},onChange:e=>{v((0,a.A)((0,a.A)({},k),{},{stack:parseInt(e.target.value)}))},className:"w-100 py-3 ",style:{fontSize:"20px"}})})}),(0,j.jsx)("td",{className:"text-right d-none bet-profit",children:g.betData.pnl})]}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:5,className:"value-buttons px-3 py-2",children:(()=>{const e=[];for(let t=1;t<=13;t+=3)e.push((0,j.jsx)("div",{className:"row justify-content-center",children:[0,1,2].map((e=>{var s;const a=t+e;return a>11&&"MATCH_ODDS"!==(null===g||void 0===g||null===(s=g.betData)||void 0===s?void 0:s.betOn)||a>13?null:(0,j.jsx)("div",{className:"col-4 d-flex justify-content-center",children:(0,j.jsx)("button",{type:"button",onClick:()=>C(f["value".concat(a)]),className:"btn btn-secondary m-1 w-100",children:f["name".concat(a)]})},"btn-".concat(a))}))},"row-".concat(t)));return e})()})})]})]}),(0,j.jsxs)("div",{className:"col-md-12 mt-20 justify-content-end d-flex  align-content-center  ",children:[(0,j.jsxs)("button",{onClick:()=>{v((0,a.A)((0,a.A)({},k),{},{stack:0,pnl:0})),D((0,d._1)((0,a.A)((0,a.A)({},g),{},{betData:(0,a.A)((0,a.A)({},g.betData),{},{stack:0,pnl:0})})))},type:"button",className:"btn btn-sm btn-warning float-left d-flex align-items-center mr-1 ",children:["Cancel ",(0,j.jsx)(b.A,{style:{fontSize:"17px"}})]}),(0,j.jsxs)("button",{type:"submit",disabled:y.status===i.I.Loading,className:"btn btn-sm btn-success float-right m-b-j5 d-flex align-items-center",children:["Submit ",(0,j.jsx)(p.A,{style:{fontSize:"17px"}}),y.status===i.I.Loading?(0,j.jsx)("i",{className:"mx-5 fas fa-spinner fa-spin"}):""]})]})]})})]})]})})},f=n.memo(N)},4598:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(9950),n=s(4414);const l=e=>{const{nameString:t,min:s,max:a,clsName:l}=e,c=l?"text-right":"tx-left";return(0,n.jsxs)("div",{className:"info-block ".concat(c),children:[(0,n.jsx)("a",{href:"","data-toggle":"collapse","data-target":"#min-max-info".concat(t.replace(" ","")),"aria-expanded":"false",className:"info-icon collapsed"}),(0,n.jsxs)("div",{className:"min-max-infoj ",children:[(0,n.jsxs)("span",{className:"m-r-5",children:[(0,n.jsx)("b",{children:"Min:"}),s]})," ",(0,n.jsxs)("span",{className:"m-r-5",children:[(0,n.jsx)("b",{children:"Max:"}),a]})]})]})},c=a.memo(l)},5257:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(9051),n=s.n(a),l=s(9950),c=s(4137),d=s(4635),r=s(455),o=s(387),i=s(3170),u=s(8674),m=s(8538),x=s(1043),h=s(8429),b=s(4414);const p=()=>{var e;const[t,s]=l.useState([]),a=(0,u.G)(r.Rf),p=(0,u.G)(i.j),j=(0,u.G)(x.GQ),N=(0,u.G)(o.Qg),{socketUser:f}=(0,c.E$)(),k=(0,u.j)(),[v,g]=l.useState(!1),y=(0,h.zy)();return l.useEffect((()=>{if(console.log(null===j||void 0===j?void 0:j.match_id," getCasinoCurrentMatch hello world here is Match id"),p&&p.matchId&&y.pathname.includes("/odds")||j&&j.match_id){var e,t;const a=p&&p.matchId&&y.pathname.includes("/odds")?p.matchId:j&&null!==j&&void 0!==j&&null!==(e=j.event_data)&&void 0!==e&&e.match_id?null===j||void 0===j||null===(t=j.event_data)||void 0===t?void 0:t.match_id:0;console.log("hello world match"),m.A.getBets(a).then((e=>{console.log(e.data,"chech bet data"),e&&e.data&&e.data.data&&s(e.data.data.bets),k((0,r.QG)(e.data.data.bets)),k((0,r.g8)(e.data.data.odds_profit)),k((0,r.xw)(e.data.data.bets.length))})).catch((e=>{console.log(e.stack)}))}}),[p,j,v]),l.useEffect((()=>{a.bet.marketId&&g(!v)}),[a.bet]),l.useEffect((()=>(f.on("placedBet",(e=>{g(!v)})),()=>{f.off("placedBet")})),[t]),console.log(t,"get my all bets"),(0,b.jsx)("div",{className:"",style:{height:"200px",overflowY:"scroll",overflowX:"scroll"},children:(0,b.jsxs)("table",{className:"table table-striped table-hover",children:[(0,b.jsx)("thead",{className:"bg-info-subtle text-warning",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{background:"#2a3a5a",border:"none"},className:"text-warning",children:"#"}),N.user.role!==d.T.user&&(0,b.jsx)("th",{style:{background:"#2a3a5a"},className:"text-warning",children:"Username"}),(0,b.jsx)("th",{style:{background:"#2a3a5a",border:"none"},className:"text-warning text-left",children:" Runner Name"}),(0,b.jsx)("th",{style:{background:"#2a3a5a",border:"none"},className:"text-warning",children:"Bet Price"}),(0,b.jsx)("th",{style:{background:"#2a3a5a",border:"none"},className:"text-warning",children:"Bet Value"}),(0,b.jsx)("th",{style:{background:"#2a3a5a",border:"none"},className:"text-warning",children:"Bet Amount"}),(0,b.jsx)("th",{style:{background:"#2a3a5a",border:"none"},className:"text-warning",children:"Bet Profit"}),(0,b.jsx)("th",{style:{background:"#2a3a5a",border:"none"},className:"text-warning",children:"Bet Loss"}),(0,b.jsx)("th",{style:{background:"#2a3a5a",border:"none"},className:"text-warning",children:"Bet Status"}),N.user.role!==d.T.user&&(0,b.jsx)("th",{children:" Date"})]})}),(0,b.jsxs)("tbody",{className:"text-white",children:[null===t||void 0===t||null===(e=t.filter((e=>"MATCH_ODDS"!==e.bet_on)))||void 0===e?void 0:e.map(((e,t)=>{var s,a;return(0,b.jsxs)("tr",{className:e.isBack?"back":"lay",children:[(0,b.jsxs)("td",{className:"no-wrap",children:[" ",t+1," "]}),N.user.role!==d.T.user&&(0,b.jsx)("td",{children:e.userName}),(0,b.jsxs)("td",{className:"no-wrap",children:[" ",e.selectionName," /"," ","Fancy"===e.marketName&&"fancy1"!==e.gtype?e.volume.toFixed(2):e.odds.toFixed(2)," "]}),(0,b.jsxs)("td",{className:"no-wrap text-center",children:[" ","fancy1"===e.gtype?e.odds.toFixed(2):null===e||void 0===e?void 0:e.volume.toFixed(2)]}),(0,b.jsxs)("td",{className:"no-wrap",children:[" ",e.stack," "]}),(0,b.jsxs)("td",{className:"no-wrap text-center",children:[" ","fancy1"===e.gtype?null===e||void 0===e?void 0:e.selectionName:e.odds.toFixed(2)," "]}),(0,b.jsxs)("td",{className:"no-wrap text-center",children:[" ",e.isBack?"Yes":"No"," "]}),(0,b.jsxs)("td",{className:"no-wrap text-center",children:[" ",null!==e&&void 0!==e&&null!==(s=e.result)&&void 0!==s&&s.result?null===e||void 0===e||null===(a=e.result)||void 0===a?void 0:a.result:"YES"," "]}),N.user.role!==d.T.user&&(0,b.jsxs)("td",{className:"no-wrap",children:[n().utc(e.betClickTime).utcOffset("+05:30").format("DD/MM/YYYY hh:mm:ss A")," "]})]},e._id)})),null===t||void 0===t?void 0:t.filter((e=>"MATCH_ODDS"===e.bet_on)).map(((e,t)=>{var s,a;return(0,b.jsxs)("tr",{className:e.isBack?"back":"lay",children:[(0,b.jsxs)("td",{className:"no-wrap",children:[" ",t+1," "]}),N.user.role!==d.T.user&&(0,b.jsx)("td",{children:e.userName}),(0,b.jsxs)("td",{className:"no-wrap",children:[" ",e.selectionName," /"," ","Fancy"===e.marketName&&"fancy1"!==e.gtype?e.volume.toFixed(2):e.odds.toFixed(2)," "]}),(0,b.jsxs)("td",{className:"no-wrap text-center",children:[" ",e.odds.toFixed(2)," "]}),(0,b.jsxs)("td",{className:"no-wrap",children:[" ",e.stack," "]}),(0,b.jsxs)("td",{className:"no-wrap text-center",children:[" ",null===e||void 0===e?void 0:e.selectionName," "]}),(0,b.jsxs)("td",{className:"no-wrap text-center",children:[" ",e.isBack?"Yes":"No"," "]}),(0,b.jsxs)("td",{className:"no-wrap text-center",children:[" ",null!==e&&void 0!==e&&null!==(s=e.result)&&void 0!==s&&s.result?null===e||void 0===e||null===(a=e.result)||void 0===a?void 0:a.result:"YES"," "]}),N.user.role!==d.T.user&&(0,b.jsxs)("td",{className:"no-wrap",children:[n().utc(e.betClickTime).utcOffset("+05:30").format("DD/MM/YYYY hh:mm:ss A")," "]})]},e._id)}))]})]})})}},8101:(e,t,s)=>{s.d(t,{P:()=>a});let a=function(e){return e.B="berFair",e.BM="bookMaker",e.F="Fancy",e}({})}}]);