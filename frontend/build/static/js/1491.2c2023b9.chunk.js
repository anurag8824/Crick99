"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[1491],{1491:(e,s,l)=>{l.r(s),l.d(s,{default:()=>r});var t=l(4919),n=l(9950),i=(l(5005),l(4446)),d=l(9051),a=l.n(d),c=l(1925),o=l(4414);const r=()=>{const[e,s]=n.useState([]),[l,d]=n.useState([]),[r,x]=n.useState(null),[m,v]=n.useState([]),[h,u]=n.useState(""),[j,p]=n.useState("");n.useEffect((()=>{i.A.comgames().then((e=>{var l,t,n,i,d;console.log(e,"marketffffff data"),s(null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&null!==(t=l.data)&&void 0!==t&&t.matches?null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.data)||void 0===i||null===(d=i.matches)||void 0===d?void 0:d.filter((e=>{var s;return(null===e||void 0===e?void 0:e.bets)&&(null===e||void 0===e||null===(s=e.bets)||void 0===s?void 0:s.length)>0})).reverse():[])}))}),[]),n.useEffect((()=>{i.A.comgamescasino().then((e=>{var s,l,t;console.log(e,"marketffffff data");const n=(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.data)||void 0===l||null===(t=l.bets)||void 0===t?void 0:t.reverse())||[];d(n),v(n)}))}),[]);console.log(e,"markettdatata");const[b,N]=n.useState(null),[f,g]=n.useState(null),y=m.reduce(((e,s)=>{const l=s.matchName;return e[l]||(e[l]=[]),e[l].push(s),e}),{}),[k,S]=n.useState({});return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"body-wrap",children:[(0,o.jsx)("div",{className:"back-main-menu my-2",children:(0,o.jsx)("a",{href:"/",children:"BACK TO MAIN MENU"})}),(0,o.jsx)("div",{className:"card-content",children:(0,o.jsx)("div",{className:"",children:(0,o.jsx)("div",{className:" coupon-table mb-0 text-nowrap align-middle",children:(0,o.jsx)("div",{children:null===e||void 0===e?void 0:e.map(((e,s)=>{var l,t,n,i;null!==e&&void 0!==e&&e.markets&&(null===e||void 0===e||null===(l=e.markets)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||e.markets[0].marketId);return(0,o.jsx)("div",{children:(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"container w-100 mt-2 p-0",children:(0,o.jsxs)("div",{className:"card single-match text-center my-2",children:[(0,o.jsxs)("a",{children:[(0,o.jsx)("h5",{onClick:()=>{return s=e.matchId,void N((e=>e===s?null:s));var s},className:"ng-binding",children:e.name}),(0,o.jsxs)("div",{className:"p-2",children:[" ",(0,o.jsxs)("p",{className:" d-flex justify-content-between",children:[(0,o.jsx)("p",{children:"Start On"}),(0,o.jsxs)("p",{children:[" ",a()(e.matchDateTime).format(c.i$)," "]})]}),(0,o.jsxs)("div",{className:" d-flex justify-content-between",children:[(0,o.jsxs)("p",{children:["Total :"," "]}),(0,o.jsxs)("p",{className:"".concat((null===e||void 0===e||null===(t=e.bets)||void 0===t?void 0:t.reduce(((e,s)=>e+Number(s.profitLoss||0)),0))>=0?"text-success":"text-danger"),children:[null===e||void 0===e||null===(n=e.bets)||void 0===n?void 0:n.reduce(((e,s)=>e+Number(s.profitLoss||0)),0).toFixed()," "]})]})]})]}),b===(null===e||void 0===e?void 0:e.matchId)&&(0,o.jsxs)("div",{className:"p-2 border-top",children:[(0,o.jsxs)("p",{className:" d-flex justify-content-between",children:[(0,o.jsx)("p",{children:"Declare On"}),(0,o.jsxs)("p",{children:[" ",a()(null===e||void 0===e?void 0:e.matchDateTime).format(c.i$)," "]})]}),(null===e||void 0===e||null===(i=e.bets)||void 0===i?void 0:i.length)>0?(s=>{const l=null===e||void 0===e||null===(s=e.bets)||void 0===s?void 0:s.reduce(((e,s)=>{const l="MATCH_ODDS"===(null===s||void 0===s?void 0:s.bet_on)?"Match":null===s||void 0===s?void 0:s.selectionName;return e[l]?e[l].profitLoss+=Number((null===s||void 0===s?void 0:s.profitLoss)||0):e[l]={selectionName:l,profitLoss:Number((null===s||void 0===s?void 0:s.profitLoss)||0)},e}),{}),t=Object.values(l),n=t.reduce(((e,s)=>e+(null===s||void 0===s?void 0:s.profitLoss)),0);return(0,o.jsxs)(o.Fragment,{children:[null===t||void 0===t?void 0:t.map(((s,l)=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[(0,o.jsx)("div",{onClick:()=>g((e=>e===s.selectionName?null:s.selectionName)),children:(0,o.jsx)("span",{className:"text-primary",children:null===s||void 0===s?void 0:s.selectionName})}),(0,o.jsx)("span",{className:(null===s||void 0===s?void 0:s.profitLoss)>=0?"text-success":"text-danger",children:null===s||void 0===s?void 0:s.profitLoss.toFixed()})]}),f===(null===s||void 0===s?void 0:s.selectionName)&&((l,t,n)=>{const i=null===e||void 0===e||null===(l=e.bets)||void 0===l?void 0:l.filter((e=>("MATCH_ODDS"===(null===e||void 0===e?void 0:e.bet_on)?"Match":null===e||void 0===e?void 0:e.selectionName)===(null===s||void 0===s?void 0:s.selectionName))),d=null!==(t=null===i||void 0===i||null===(n=i[0])||void 0===n?void 0:n.marketName)&&void 0!==t?t:"";return(0,o.jsx)("div",{className:"rounded border mt-2 w-100",style:{background:"#f9f9f9"},children:(0,o.jsx)("div",{className:"table-responsive",style:{overflowX:"scroll",maxHeight:"400px"},children:(0,o.jsxs)("table",{className:"table table-sm table-bordered mb-0  text-nowrap align-middle",children:[(0,o.jsx)("thead",{className:"table-secondary text-center",children:(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("th",{className:"text-center",children:"Date"}),(0,o.jsx)("th",{className:"px-3 py-2",children:"Event Id"}),(0,o.jsx)("th",{className:"px-3 py-2",children:"-"}),"Fancy"===d?(0,o.jsx)("th",{className:"px-3 py-2",children:"Yes/Not"}):"",(0,o.jsx)("th",{className:"px-3 py-2",children:"Rate"}),(0,o.jsx)("th",{className:"px-3 py-2",children:"Amount"}),(0,o.jsx)("th",{className:"px-3 py-2",children:"PnL"})]})}),(0,o.jsx)("tbody",{children:null===i||void 0===i?void 0:i.map(((e,s)=>(0,o.jsxs)("tr",{className:"text-center",children:[(0,o.jsx)("td",{className:"px-3 py-2",children:a()(null===e||void 0===e?void 0:e.betClickTime).format(c.i$)}),(0,o.jsx)("td",{className:"px-3 py-2",children:null===e||void 0===e?void 0:e.selectionId}),"Fancy"===d?(0,o.jsx)("td",{className:"pt-2 pb-1 px-3 py-2 ",children:null!==e&&void 0!==e&&e.isBack?(0,o.jsx)("button",{className:"btn-yes btn btn-sm p-1 ng-scope",style:{fontSize:"xx-small"},children:(0,o.jsx)("span",{className:"badge badge-light",style:{fontSize:"xx-small"},children:"YES"})}):(0,o.jsx)("button",{className:"btn-not btn btn-sm p-1 ng-scope",style:{fontSize:"xx-small"},children:(0,o.jsx)("span",{className:"badge badge-light",style:{fontSize:"xx-small"},children:"NOT"})})}):(0,o.jsx)("td",{className:"pt-2 pb-1 text-center px-3 py-2 d-flex justify-content-center",children:null!==e&&void 0!==e&&e.isBack?(0,o.jsxs)("button",{className:"btn btn-sm btn-yes d-flex align-items-center gap-2 w-auto px-2",style:{fontSize:"xx-small"},children:[(0,o.jsx)("span",{className:"badge bg-light text-dark",style:{fontSize:"xx-small",marginInlineEnd:"2px"},children:"L"}),(0,o.jsx)("span",{className:"badge bg-light text-dark",style:{fontSize:"xx-small"},children:null===e||void 0===e?void 0:e.selectionName})]}):(0,o.jsxs)("button",{className:"btn btn-sm btn-not d-flex align-items-center gap-2 w-auto px-2",style:{fontSize:"xx-small"},children:[(0,o.jsx)("span",{className:"badge bg-light text-dark",style:{fontSize:"xx-small",marginInlineEnd:"2px"},children:"K"}),(0,o.jsx)("span",{className:"badge bg-light text-dark",style:{fontSize:"xx-small"},children:null===e||void 0===e?void 0:e.selectionName})]})}),"Fancy"===d?(0,o.jsxs)("td",{children:["MATCH_ODDS"===e.bet_on&&"Bookmaker"===e.marketName?null===e||void 0===e?void 0:e.selectionName:null===e||void 0===e?void 0:e.odds," "]}):"",(0,o.jsx)("td",{className:"px-3 py-2",children:"MATCH_ODDS"===e.bet_on&&"Bookmaker"===e.marketName?null===e||void 0===e?void 0:e.odds:null===e||void 0===e?void 0:e.volume}),(0,o.jsx)("td",{className:"px-3 py-2",children:null===e||void 0===e?void 0:e.stack}),(0,o.jsx)("td",{className:(null===e||void 0===e?void 0:e.profitLoss)>=0?"text-success":"text-danger",children:null===e||void 0===e?void 0:e.profitLoss.toFixed()})]},s)))})]})})})})()]},l))),(0,o.jsxs)("div",{className:"d-flex justify-content-between mt-2 border-top pt-2 fw-bold",children:[(0,o.jsx)("span",{children:"Total"}),(0,o.jsx)("span",{className:n>=0?"text-success":"text-danger",children:n.toFixed()})]})]})})():(0,o.jsx)("p",{children:"No bets found"})]})]})})})},e.matchId)}))})})})}),(0,o.jsx)("div",{className:"card-content w-100",children:(0,o.jsx)("div",{className:"table coupon-table",children:(0,o.jsx)("div",{children:Object.entries(y).map(((e,s)=>{var l;let[i,d]=e;const c=d.reduce(((e,s)=>e+s.profitLoss),0),m=c>=0;return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)("div",{className:"container mt-2 p-0",children:(0,o.jsx)("div",{className:"card single-match text-center my-2",children:(0,o.jsxs)("a",{className:"",style:{cursor:"pointer",backgroundColor:"#f8f9fa"},onClick:()=>x(r===i?null:i),children:[(0,o.jsx)("h5",{className:"mb-2 ng-binding",children:i}),(0,o.jsxs)("div",{className:"d-flex p-1 justify-content-between",children:[(0,o.jsx)("p",{className:"",children:"Start On"}),(0,o.jsx)("p",{className:"",children:null!==(l=d[0])&&void 0!==l&&l.betClickTime?a()(d[0].betClickTime).format("MM/DD/YYYY h:mm a"):"-"})]}),(0,o.jsxs)("div",{className:"d-flex p-1 justify-content-between",children:[(0,o.jsx)("p",{className:"mb-0",children:"Total PnL:"}),(0,o.jsx)("p",{className:"mb-0 ".concat(m?"text-success":"text-danger"," fw-bold"),children:c.toFixed(2)})]}),r===i&&(()=>{const e=k[i]||!1,s=e?d:d.slice(0,20);return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"table-responsive",style:{overflowX:"scroll"},children:[(0,o.jsx)("div",{style:{minWidth:"750px"},children:(0,o.jsxs)("table",{className:"table table-sm table-striped table-bordered mb-0 text-nowrap",children:[(0,o.jsx)("thead",{className:"table-secondary text-center fs-6",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"text-center",children:"Username"}),(0,o.jsx)("th",{children:"Type"}),(0,o.jsx)("th",{children:"Rate"}),(0,o.jsx)("th",{children:"Amount"}),(0,o.jsx)("th",{children:"PnL"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Date/Time"})]})}),(0,o.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map(((e,s)=>(0,o.jsxs)("tr",{className:"text-center align-middle fs-6",children:[(0,o.jsxs)("td",{children:[null===e||void 0===e?void 0:e.userName," (",null===e||void 0===e?void 0:e.parentNameStr,")"]}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.selectionName}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.odds}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.stack}),(0,o.jsx)("td",{className:(null===e||void 0===e?void 0:e.profitLoss)>=0?"text-success":"text-danger",children:null===e||void 0===e?void 0:e.profitLoss.toFixed(2)}),(0,o.jsx)("td",{children:(0,o.jsx)("span",{className:"badge rounded-pill text-light ".concat((null===e||void 0===e?void 0:e.profitLoss)>=0?"bg-success":"bg-danger"),children:(null===e||void 0===e?void 0:e.profitLoss)>=0?"Win":"Lost"})}),(0,o.jsx)("td",{children:a()(null===e||void 0===e?void 0:e.betClickTime).format("MM/DD/YYYY h:mm:ss a")})]},s)))})]})}),d.length>20&&(0,o.jsx)("div",{className:"text-center mt-2",children:(0,o.jsx)("button",{className:"btn btn-sm btn-primary text-light",onClick:s=>{s.stopPropagation(),S((s=>(0,t.A)((0,t.A)({},s),{},{[i]:!e})))},children:e?"View Less":"View All"})})]})})})()]})})})},s)}))})})}),(0,o.jsx)("div",{className:"back-main-menu my-2",children:(0,o.jsx)("a",{href:"/",children:"BACK TO MAIN MENU"})})]})})}},5005:()=>{}}]);