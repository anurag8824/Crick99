"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[7062],{1755:(e,a,s)=>{s.d(a,{A:()=>t,_:()=>l});let t=function(e){return e[e.soccer=1]="soccer",e[e.tennis=2]="tennis",e[e.cricket=4]="cricket",e[e.horseRacing=7]="horseRacing",e[e.greyhoundRacing=4339]="greyhoundRacing",e[e.casino=5e3]="casino",e}({});const l={1:"Soccer",2:"Tennis",4:"Cricket",7:"Horse Racing",4339:"Greyhound Racing",5e3:"Casino"}},7062:(e,a,s)=>{s.r(a),s.d(a,{default:()=>M});var t=s(4919),l=s(9051),c=s.n(l),i=s(9950),n=s(9198),r=s.n(n),d=s(8429),o=s(9402),m=s(9048),h=s(1925),x=s(4806),u=s.n(x),j=s(1755),v=s(6487),f=s(8674),p=s(2964),y=s(9385),g=s(4414);const N=e=>{let{showDialog:a,closeModal:s,selectedMatch:l}=e;const[c,n]=i.useState({}),r=(0,f.G)(v.Mm);i.useEffect((()=>{n(l)}),[l]);const d=e=>{n((0,t.A)((0,t.A)({},c),{},{[e.target.name]:e.target.value}))},{isOpen:o,isOpen2:m,toggleDrawer:h}=(0,y.b)();return console.log(o,"isopen"),(0,g.jsx)("div",{children:(0,g.jsx)(u(),{isOpen:a,onRequestClose:e=>{s(e,c,!0)},contentLabel:"Set Max Bet Limit",className:"modal-dialog",ariaHideApp:!1,children:(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("div",{className:"modal-header",children:[(0,g.jsx)("h4",{className:"modal-title",children:"Set Max Bet Limit"}),(0,g.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",onClick:e=>{s(e,c,!0)},children:"\xd7"})]}),(0,g.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p.A.saveSportSettings(c).then((()=>{s(e,c)}))},children:[(0,g.jsxs)("div",{style:{height:"500px",overflowY:"auto",zIndex:"50"},className:"row col-md-12",children:[(0,g.jsxs)("div",{className:"col-sm-6",children:[(0,g.jsx)("div",{className:"text-center m-xl-3",children:(0,g.jsx)("strong",{children:"In Play"})}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:" Min Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.inPlayMinLimit||"",onChange:d,name:"inPlayMinLimit",className:"form-control intr"})})]}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:" Max Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.inPlayMaxLimit||"",onChange:d,name:"inPlayMaxLimit",className:"form-control intr"})})]}),l.sportId===j.A.cricket&&(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:"Fancy Min Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.inPlayFancyMinLimit||"",onChange:d,name:"inPlayFancyMinLimit",className:"form-control intr",defaultValue:100})})]}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:"Fancy Max Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.inPlayFancyMaxLimit||"",onChange:d,name:"inPlayFancyMaxLimit",className:"form-control intr",defaultValue:25e3})})]})]}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:"Book Min Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.inPlayBookMinLimit||"",onChange:d,name:"inPlayBookMinLimit",className:"form-control intr",defaultValue:100})})]}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:"Book Max Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.inPlayBookMaxLimit||"",onChange:d,name:"inPlayBookMaxLimit",className:"form-control intr",defaultValue:25e3})})]})]}),(0,g.jsxs)("div",{className:"col-sm-6",children:[(0,g.jsx)("div",{className:"text-center m-xl-3",children:(0,g.jsx)("strong",{children:"Off Play"})}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:" Min Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.offPlayMinLimit||"",onChange:d,name:"offPlayMinLimit",className:"form-control intr"})})]}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:" Max Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.offPlayMaxLimit||"",onChange:d,name:"offPlayMaxLimit",className:"form-control intr"})})]}),l.sportId===j.A.cricket&&(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:"Fancy Min Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.offPlayFancyMinLimit||"",onChange:d,name:"offPlayFancyMinLimit",className:"form-control intr",defaultValue:100})})]}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:"Fancy Max Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.offPlayFancyMaxLimit||"",onChange:d,name:"offPlayFancyMaxLimit",className:"form-control intr",defaultValue:1})})]})]}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:"Book Min Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.offPlayBookMinLimit||"",onChange:d,name:"offPlayBookMinLimit",className:"form-control intr",defaultValue:100})})]}),(0,g.jsxs)("div",{className:"row form-group",children:[(0,g.jsx)("div",{className:"col-md-4",children:(0,g.jsx)("label",{children:"Book Max Limit"})}),(0,g.jsx)("div",{className:"col-md-8",children:(0,g.jsx)("input",{type:"text",required:!0,value:c.offPlayBookMaxLimit||"",onChange:d,name:"offPlayBookMaxLimit",className:"form-control intr",defaultValue:1})})]})]})]}),(0,g.jsxs)("div",{className:"modal-footer",children:[(0,g.jsxs)("button",{disabled:r,type:"button",className:"btn btn-info","data-dismiss":"modal",onClick:e=>{s(e)},children:[(0,g.jsx)("i",{className:"fas fa-undo-alt"})," No"]}),(0,g.jsxs)("button",{disabled:r,type:"submit",className:"btn btn-primary",children:[(0,g.jsx)("i",{className:"fas fa-paper-plane"})," Yes"]})]})]})]})})})};var b=s(4552);const M=()=>{const[e,a]=i.useState({}),[s,l]=i.useState(!1),[n,x]=i.useState({}),[u,j]=i.useState(1),{sportId:v,matchType:f}=(0,d.g)(),[p,y]=i.useState("");i.useEffect((()=>{M(1),j(1)}),[v,f]);const M=e=>{const s=void 0===f?"0":f;m.A.getActiveMatches(v,s,p,e).then((s=>{a(s.data.data),j(e)}))},k=(t,c,i)=>{if(t.preventDefault(),c&&x(c),l(!s),i){const s=[...e.docs],t=s.findIndex((e=>e._id===(null===c||void 0===c?void 0:c._id)));s[t]=c,a({docs:s})}};return(0,g.jsxs)(g.Fragment,{children:[b.A.subheaderdesktopadmin("Match List"),(0,g.jsx)("div",{className:"container-fluid",children:(0,g.jsxs)("div",{className:"row justify-content-md-center",children:[(0,g.jsxs)("div",{className:"col-md-4 p-2",children:[(0,g.jsx)("label",{children:"\xa0"}),(0,g.jsx)("ul",{role:"tablist",className:"nav nav-tabs fancy-group","aria-label":"Tabs",children:(()=>{const e=void 0===f?"":f;return[{type:"",label:"Current Match"},{type:"1",label:"Completed Match"},{type:"2",label:"Deleted Match"}].map((a=>(0,g.jsx)("li",{onClick:()=>{console.log("cliedddd"),j(1)},className:"nav-item",children:(0,g.jsx)(o.A,{to:"/active-matches/".concat(v,"/").concat(a.type),className:"nav-link ".concat(e===a.type?"active":""),children:(0,g.jsx)("span",{style:{textTransform:"uppercase"},children:a.label})})},a.type)))})()})]}),(0,g.jsxs)("div",{className:"form-group col-md-4",children:[(0,g.jsx)("label",{htmlFor:"SearchByMatch",children:"Search By Match"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"SearchByMatch",placeholder:"Search By Match",onChange:e=>y(e.target.value)})]}),(0,g.jsxs)("div",{className:"col-md-2",children:[(0,g.jsx)("label",{children:"\xa0"}),(0,g.jsx)("button",{className:"btn btn-primary btn-block",onClick:()=>{M(1),j(1)},children:"Search"})]}),(0,g.jsx)("div",{className:"col-md-12 main-container overflow-auto",children:(0,g.jsxs)("table",{className:"table table-bordered",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"In Play"}),(0,g.jsx)("th",{children:"Game"}),(0,g.jsx)("th",{children:"Status"}),(0,g.jsx)("th",{children:"Action"}),(0,g.jsx)("th",{children:"Bet Limit"}),(0,g.jsx)("th",{children:"Manage Fancy"}),(0,g.jsx)("th",{children:"Rollback"})]})}),(0,g.jsx)("tbody",{children:Object.keys(e).length>0&&e.docs.map((s=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)("i",{className:"fas fa-circle ".concat(s.active?"text-success":"text-danger"," fa-lg mr-2")})}),(0,g.jsxs)("td",{children:[(0,g.jsxs)(o.A,{to:"/active-markets/".concat(s.matchId),children:[s.name," "]}),(0,g.jsx)("span",{children:c()(s.matchDateTime).format(h.i$)})]}),(0,g.jsx)("td",{children:s.active?"Active":"In-Active"}),(0,g.jsx)("td",{children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("a",{href:"#",onClick:l=>((s,l)=>{s.preventDefault(),m.A.changeStatusMatch(l.matchId).then((s=>{const c=[...e.docs],i=c.findIndex((e=>e.matchId===l.matchId));c[i].active=!l.active,a((0,t.A)((0,t.A)({},e),{},{docs:c}))}))})(l,s),children:["Click To ",s.active?"In-Active":"Active"]}),(0,g.jsx)("br",{}),(0,g.jsxs)("a",{href:"#",onClick:l=>((s,l)=>{s.preventDefault(),m.A.deleteMatch(l.matchId).then((s=>{const c=[...e.docs].filter((e=>e.matchId!==l.matchId));a((0,t.A)((0,t.A)({},e),{},{docs:c}))}))})(l,s),children:["Click To ",s.isDelete?"Undo":"Delete"]})]})}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:"#",onClick:e=>k(e,s),children:"Maximum Bet Limit"})}),(0,g.jsx)("td",{children:(0,g.jsx)(o.A,{to:"/active-fancies/".concat(s.matchId),children:"Manage Fancy"})}),(0,g.jsx)("td",{children:s.result&&(0,g.jsx)("a",{href:"#",onClick:e=>((e,a)=>{e.preventDefault(),m.A.rollbackResultMarket(a.matchId).then((()=>{M(u)}))})(e,s),children:"Rollback Result"})})]},s.matchId)))})]})}),(0,g.jsx)(r(),{breakLabel:"...",nextLabel:">>",forcePage:u-1,onPageChange:e=>{M(e.selected+1)},pageRangeDisplayed:5,pageCount:e.totalPages,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"}),(0,g.jsx)(N,{showDialog:s,selectedMatch:n,closeModal:(e,a)=>{k(e,a,!0)}})]})})]})}},9048:(e,a,s)=>{s.d(a,{A:()=>l});var t=s(4933);const l=new class{getActiveMatches(e,a,s,l){return t.Ay.get("active-matches?sportId=".concat(e,"&type=").concat(a,"&page=").concat(l,"&search=").concat(s))}changeStatusMatch(e){return t.Ay.get("change-status-match?matchId=".concat(e))}deleteMatch(e){return t.Ay.get("delete-match?matchId=".concat(e))}rollbackResultMarket(e){return t.Ay.get("rollback-result-market?matchId=".concat(e))}getMatchListSuggestion(e){return t.Ay.post("get-match-list-suggestion",e)}}}}]);