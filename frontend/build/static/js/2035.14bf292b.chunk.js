"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[2035],{154:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(1377),l=a(4414);const n={subheader:e=>s.Fr?(0,l.jsx)("div",{className:"game-heading",children:(0,l.jsx)("span",{className:"card-header-title",children:e})}):"",subheaderdesktop:e=>s.Fr?"":(0,l.jsx)("div",{style:{textAlign:"center"},className:"card-header ",children:(0,l.jsx)("h4",{className:"mb-0",children:e})})}},663:()=>{},2035:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(9051),l=a.n(s),n=a(9950),d=a(7232),i=a(4446),c=a(1377),r=a(154),o=a(8538),h=a(4806),m=a.n(h),u=a(2318),x=a(8674),v=a(6487),j=a(9198),g=a.n(j),N=(a(663),a(4414));const p=()=>{const e=(0,x.G)(v.Mm),[t,a]=n.useState([]),[s,h]=n.useState([]),[j,p]=n.useState(!1),[b,f]=n.useState({}),[A,y]=n.useState({}),[S,w]=n.useState(1),[C,k]=n.useState(0),[D,M]=n.useState(0),[B,E]=n.useState({startDate:"",endDate:"",reportType:"All"}),[L,F]=n.useState(0),[I,T]=(0,n.useState)([]),[Y,_]=(0,n.useState)(0),[R,O]=(0,n.useState)(0),[P]=(0,n.useState)(5e4),[K,U]=(0,n.useState)(!1);n.useEffect((()=>{const e=B;e.startDate=l()().subtract(7,"days").format("YYYY-MM-DD"),e.endDate=l()().format("YYYY-MM-DD"),E(e),V(0)}),[]),n.useEffect((()=>{const e=R+P;T(s.slice(R,e).reverse()),_(Math.ceil(s.length/P))}),[R,P,s]);const V=e=>{i.A.getAccountList(e,B).then((t=>{var s,l,n,d,i,c,r,o,m,u,x;null!==t&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.data&&a((null===t||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.items)||[]),null!==t&&void 0!==t&&null!==(d=t.data)&&void 0!==d&&null!==(i=d.data)&&void 0!==i&&i.items&&0==e&&k((null===t||void 0===t||null===(c=t.data)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.openingBalance)||0),h(G((null===t||void 0===t||null===(o=t.data)||void 0===o||null===(m=o.data)||void 0===m?void 0:m.items)||[],(null===t||void 0===t||null===(u=t.data)||void 0===u||null===(x=u.data)||void 0===x?void 0:x.openingBalance)||0)),F(e)})).catch((e=>{console.log(e),d.oR.error(e.message)}))};n.useEffect((()=>{j&&q(A,S)}),[A,S,j]);const q=(e,t)=>{const a=[],s=(null===e||void 0===e?void 0:e.allBets)||[];if(s.length>0){s.map((e=>{a.push(e.betId)}));const e=a;o.A.getBetListByIds(e,t).then((e=>{f(e.data.data),w(t)}))}},G=(e,t)=>{const a=[];return console.log(e,"ressss"),e&&(null===e||void 0===e||e.map(((e,s)=>{t+=e.amount,console.log(e.commision,"ddd"),a.push({_id:e._id,sr_no:s+1,date:l()(e.createdAt).format("lll"),credit:e.amount,debit:e.amount,closing:t.toFixed(2),narration:e.narration,stmt:e})}))),a};return(0,N.jsxs)(N.Fragment,{children:[r.A.subheader("My Statement"),(0,N.jsx)("div",{className:c.Fr?"padding-custom":" mt-1",children:(0,N.jsxs)("div",{className:"body-wrap",children:[(0,N.jsx)("div",{className:"back-main-menu my-3",children:(0,N.jsx)("a",{href:"/",children:"BACK TO MAIN MENU"})}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsx)("h1",{className:"text-center",children:"My Account Statement"}),(0,N.jsxs)("div",{className:"card-body p0",children:[(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"text-center",id:"customers1",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsxs)("th",{style:{width:"20%",textAlign:"center",whiteSpace:"nowrap"},children:["DATE"," "]}),(0,N.jsx)("th",{style:{width:"45%",textAlign:"center"},children:"DESCRIPTION"}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"CREDIT "}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"DEBIT"}),(0,N.jsx)("th",{style:{width:"10%",textAlign:"center"},children:"BALANCE"})]})}),(0,N.jsxs)("tbody",{children:[s.length<=0||s.length>0&&s.length<=0&&(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:8,className:"text-center",children:"No Result Found"})}),s.length>0&&s.length>0&&0==L&&(0,N.jsx)("tr",{},s[0]._id),(()=>{var e;let t=K?s:s.slice(-20),a=1==L?C:D;return t&&(null===t||void 0===t||null===(e=t.reverse())||void 0===e?void 0:e.map(((e,t)=>(console.log(I,"fffff"),a+=e.amount,(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"wnwrap",children:e.date}),(0,N.jsx)("td",{className:"",children:e.narration}),(0,N.jsx)("td",{className:"green wnwrap",children:e.credit>=0&&e.credit.toFixed(2)}),(0,N.jsx)("td",{className:"red wnwrap",children:e.credit<0&&e.credit.toFixed(2)}),(0,N.jsx)("td",{className:"green wnwrap",children:e.closing})]},"".concat(e._id).concat(t))))))})()]})]})}),s.length>20&&(0,N.jsx)("div",{className:"text-center my-3",children:(0,N.jsx)("button",{className:K?"d-none":"btn btn-primary",onClick:()=>U((e=>!e)),children:K?"View Less":"View All"})}),(0,N.jsx)(g(),{className:"d-none",breakLabel:"...",nextLabel:">>",onPageChange:e=>{const t=e.selected*P%s.length;O(t),F(e.selected)},pageRangeDisplayed:5,pageCount:Y,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})]}),(0,N.jsx)("div",{className:"back-main-menu my-2",children:(0,N.jsx)("a",{href:"/",children:"BACK TO MAIN MENU"})})]})}),(0,N.jsx)(m(),{isOpen:j,onAfterClose:()=>p(!1),onRequestClose:e=>{p(!1)},contentLabel:"Set Max Bet Limit",className:"col-md-12",ariaHideApp:!1,children:(0,N.jsxs)("div",{className:"modal-content",children:[(0,N.jsxs)("div",{className:"modal-header",children:[(0,N.jsx)("h5",{children:"Bets"}),(0,N.jsx)("button",{onClick:()=>p(!1),className:"close float-right",children:(0,N.jsx)("i",{className:"fa fa-times-circle"})})]}),(0,N.jsx)("div",{className:"modal-body",children:!e&&(0,N.jsx)(u.A,{bethistory:b,handlePageClick:e=>{q(A,e.selected+1)},page:L,isTrash:!1})})]})})]})}}}]);