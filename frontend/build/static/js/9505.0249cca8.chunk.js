"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[9505],{381:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(9950),n=a(2509),l=a.n(n),r=a(4414);const c=(0,s.forwardRef)(((e,t)=>{let{onSuggestionsFetchRequested:a,onSelectUser:n,placeHolder:c,onSuggestionsClear:i}=e;const[d,o]=s.useState(""),[u,m]=s.useState([]),h={placeholder:c||"Search User",value:d,onChange:(e,t)=>{let{newValue:a}=t;o(a)}};return(0,s.useImperativeHandle)(t,(()=>({resetValue(){o(""),m([])}})),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l(),{suggestions:u,onSuggestionsFetchRequested:e=>{let{value:t}=e;o(t),a({value:t}).then((e=>{m(e.data.data)}))},onSuggestionsClearRequested:()=>{},getSuggestionValue:e=>(n(e),e.username),renderSuggestion:e=>(0,r.jsx)("div",{className:"dropdown-item",children:e.username}),inputProps:h,theme:{suggestionsList:"dropdown-menu show",input:"mx-input",suggestionsContainer:"dropdown"}})})}))},1755:(e,t,a)=>{a.d(t,{A:()=>s,_:()=>n});let s=function(e){return e[e.soccer=1]="soccer",e[e.tennis=2]="tennis",e[e.cricket=4]="cricket",e[e.horseRacing=7]="horseRacing",e[e.greyhoundRacing=4339]="greyhoundRacing",e[e.casino=5e3]="casino",e}({});const n={1:"Soccer",2:"Tennis",4:"Cricket",7:"Horse Racing",4339:"Greyhound Racing",5e3:"Casino"}},8306:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(4919),n=a(9222),l=(a(9950),a(6487)),r=a(8674),c=a(4414);const i=["children"],d=e=>{const{children:t}=e,a=(0,n.A)(e,i),d=(0,r.G)(l.Mm);return(0,c.jsx)("button",(0,s.A)((0,s.A)({disabled:d},a),{},{children:t}))}},9505:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(4919),n=a(9950),l=a(9198),r=a.n(l),c=a(7232),i=a(4552),d=a(1377),o=a(9051),u=a.n(o),m=a(4446),h=a(381),g=a(9564),x=a(1755),p=a(8306),v=a(4414);const b=()=>{const[e,t]=n.useState({startDate:"",endDate:""}),[a,l]=n.useState({}),[o,b]=n.useState(1),[j,N]=n.useState({}),[f,w]=n.useState(!1),S=n.useRef(null),C=n.useMemo((()=>{const t=e;return t.startDate=u()().subtract(7,"days").format("YYYY-MM-DD"),t.endDate=u()().format("YYYY-MM-DD"),t}),[]);n.useEffect((()=>{t(C),D(1)}),[]),n.useEffect((()=>{f&&(D(1),w(!1))}),[f]);const D=t=>{m.A.getProfitLoss(t,e).then((e=>{e&&e.data&&e.data.data&&l(e.data.data),e&&e.data&&e.data.data&&R(e.data.data),b(t)})).catch((e=>{const t=e.response.data.message;c.oR.error(t)}))},y=a=>{const s=e;s[a.target.name]=a.target.value,t(s)},R=e=>{const t={};e&&e.items&&e.items.length&&e.items.map(((e,a)=>{const s=""!=e.narration?e.narration.split("/")[0]:"",n=x._[e.sportId];var l,r;"Casino"!=n?t[n]=(null===t||void 0===t?void 0:t[n])||+(null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.toFixed(2))+0||0:t[s]=(null===t||void 0===t?void 0:t[s])||+(null===e||void 0===e||null===(r=e.total)||void 0===r?void 0:r.toFixed(2))+0||0})),N(t)},k=a&&a.items&&a.items.length?a.items.map(((e,t)=>((e,t)=>{var a;const s=e.total>0?"green":"red",n=""!=e.narration?e.narration.split("/")[0]:"";return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"text-center",children:x._[e.sportId]}),(0,v.jsx)("td",{className:"text-center wnwrap",children:n}),(0,v.jsx)("td",{className:"text-center wnwrap ".concat(s),children:null===e||void 0===e||null===(a=e.total)||void 0===a?void 0:a.toFixed(2)})]},t)})})(e,t))):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:8,style:{textAlign:"center"},children:"No Result Found"})});return(0,v.jsxs)(v.Fragment,{children:[i.A.subheaderdesktopadmin("Game Reports"),(0,v.jsx)("div",{className:"container-fluid",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:d.Fr?"col-md-12 padding-custom":"col-md-12 mt-1",children:(0,v.jsxs)("div",{className:"",children:[(0,v.jsx)("div",{className:"card-body p15 bg-gray mb-20",children:(0,v.jsx)("form",{className:"ng-pristine ng-valid ng-touched mb-0",method:"post",onSubmit:e=>{e.preventDefault(),w(!0)},children:(0,v.jsxs)("div",{className:"row row5",children:[(0,v.jsxs)("div",{className:"col-6 col-lg-2 mbc-5",children:[(0,v.jsx)("label",{className:"label",children:"User"}),(0,v.jsx)(h.A,{onSuggestionsFetchRequested:e=>{let{value:t}=e;return g.A.getUserListSuggestion({username:t})},onSelectUser:a=>{t((0,s.A)((0,s.A)({},e),{},{userId:a._id}))},ref:S})]}),(0,v.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,v.jsxs)("div",{className:"form-group mb-0",children:[(0,v.jsx)("label",{className:"label",children:"Start Date"}),(0,v.jsx)("div",{className:"mx-datepicker",children:(0,v.jsx)("div",{className:"mx-input-wrapper",children:(0,v.jsx)("input",{name:"startDate",type:"date",autoComplete:"off",onChange:y,defaultValue:e.startDate,placeholder:"Select Date",className:"mx-input ng-pristine ng-valid ng-touched"})})})]})}),(0,v.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,v.jsxs)("div",{className:"form-group mb-0",children:[(0,v.jsx)("label",{className:"label",children:"End Date"}),(0,v.jsx)("div",{className:"mx-datepicker",children:(0,v.jsx)("div",{className:"mx-input-wrapper",children:(0,v.jsx)("input",{name:"endDate",type:"date",autoComplete:"off",defaultValue:e.endDate,onChange:y,placeholder:"Select Date",className:"mx-input ng-untouched ng-pristine ng-valid"})})})]})}),(0,v.jsxs)("div",{className:"col-12 col-lg-1 mbc-5",children:[(0,v.jsx)("label",{className:"label",children:"\xa0"}),(0,v.jsx)(p.A,{type:"submit",className:"btn btn-primary btn-block",children:"Submit"})]}),(0,v.jsxs)("div",{className:"col-12 col-lg-1 mbc-5",children:[(0,v.jsx)("label",{className:"label",children:"\xa0"}),(0,v.jsx)("button",{type:"button",onClick:()=>{S.current.resetValue(),t(C),w(!0)},className:"btn btn-primary btn-block",children:"Reset"})]})]})})}),(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("div",{className:"table-responsive",children:(0,v.jsxs)("table",{id:"customers1",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{className:"text-center bg2 text-white wnwrap",children:"Event Type"}),(0,v.jsx)("th",{className:"text-center bg2 text-white wnwrap",children:"Event Name "}),(0,v.jsx)("th",{className:"text-center bg2 text-white wnwrap",children:"Amount"})]})}),(0,v.jsx)("tbody",{children:k})]})}),(0,v.jsx)(r(),{breakLabel:"...",nextLabel:">>",onPageChange:e=>{D(e.selected+1)},pageRangeDisplayed:5,pageCount:a.totalPages,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})]})})})})]})}}}]);