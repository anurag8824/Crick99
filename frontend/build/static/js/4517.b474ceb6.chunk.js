"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[4517],{4517:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(4919),l=a(9950),c=a(4806),n=a.n(c),r=a(8429),d=a(7232),i=a(4933);const o=new class{getActiveFancies(e,t){return i.Ay.get("active-fancies?matchId=".concat(e,"&gtype=").concat(t))}suspendFancy(e,t,a){return i.Ay.get("suspend-fancy?marketId=".concat(e,"&matchId=").concat(t,"&type=").concat(a))}fancyResult(e,t,a){return i.Ay.get("result-fancy?marketId=".concat(e,"&matchId=").concat(t,"&result=").concat(a))}fancyResultRollback(e,t){return i.Ay.get("fancy-result-rollback?marketId=".concat(e,"&matchId=").concat(t))}};var m=a(4414);const u=()=>{const[e,t]=l.useState([]),[a,c]=l.useState({}),[i,u]=l.useState(null),[h,x]=l.useState("session"),[f,p]=l.useState(!1),{matchId:y}=(0,r.g)(),b=()=>{o.getActiveFancies(y,h).then((e=>{t(e.data.data)}))};l.useEffect((()=>{b();const e=setInterval((()=>{b()}),2e4);return()=>{clearInterval(e)}}),[h]);const j=(a,l,c)=>{a.preventDefault(),o.suspendFancy(l.marketId,l.matchId,c).then((a=>{const n=[...e].map((e=>e.marketId===l.marketId?(0,s.A)((0,s.A)({},l),{},{[c]:!l[c]}):e));t(n)}))};return(0,m.jsxs)("div",{className:"col-md-12 mt-2",children:[(0,m.jsxs)("div",{className:"",style:{maxWidth:"100%"},children:[(0,m.jsx)("ul",{role:"tablist",className:"nav nav-tabs fancy-group d-flex align-items-center justify-content-center","aria-label":"Tabs",children:(v=h,[{type:"session",label:"Fancy"},{type:"fancy1",label:"Fancy1"},{type:"wkt",label:"Wicket"},{type:"Four",label:"Four"},{type:"Sixes",label:"Six"},{type:"meter",label:"Meter"},{type:"khado",label:"Khado"},{type:"oddeven",label:"Odd/Even"},{type:"ballRun",label:"Ball Run"}].map((e=>(0,m.jsx)("li",{style:{display:"none"},onClick:t=>{return a=e.type,void x(a);var a},className:"nav-item",children:(0,m.jsx)("a",{href:"#",onClick:e=>e.preventDefault(),role:"tab",className:"nav-link ".concat(v===e.type?"active":""),children:(0,m.jsx)("span",{style:{textTransform:"uppercase"},children:e.label})})},e.type))))}),(0,m.jsx)("table",{style:{width:"100%"},className:"table  table table-striped table-bordered m-t-10",children:(0,m.jsxs)("tbody",{children:[(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:8,style:{fontSize:"18px"},children:"Pending Fancy"})}),e.map(((e,t)=>(0,m.jsxs)("tr",{style:{backgroundColor:e.result?"#5eb873":e.bet?"yellow":"",color:e.result?"white":"black"},role:"row",className:"odd",children:[(0,m.jsx)("td",{children:(0,m.jsx)("i",{className:"fas fa-circle ".concat(e.active?"text-success":"text-danger"," fa-lg mr-2")})}),(0,m.jsx)("td",{className:"text-left",children:e.fancyName}),(0,m.jsx)("td",{className:"text-left",children:e.result}),(0,m.jsx)("td",{className:"text-left",children:e.active?"Active":"In-Active"}),(0,m.jsx)("td",{className:"text-left",children:e.isSuspend?"Suspend":"Un-Suspend"}),(0,m.jsx)("td",{className:"text-left",children:(0,m.jsx)("a",{onClick:t=>j(t,e,"active"),href:"#",children:"InActivate"})}),(0,m.jsx)("td",{className:"text-left",children:(0,m.jsx)("a",{onClick:t=>j(t,e,"isSuspend"),href:"#",children:"Click To Suspend"})}),(0,m.jsxs)("td",{className:"text-left",children:[!e.result&&(0,m.jsx)("a",{onClick:t=>((e,t)=>{e.preventDefault(),p(!0),c(t)})(t,e),href:"#",children:"Result Declare"}),e.result&&(0,m.jsx)("a",{onClick:t=>((e,t)=>{e.preventDefault(),o.fancyResultRollback(t.marketId,t.matchId).then((()=>{d.oR.success("Result Rollback Successfully"),b()})).catch((e=>{const t=e;d.oR.error(t.message)}))})(t,e),href:"#",children:"Rollback"})]})]},e.marketId+e.fancyName+t)))]})})]}),(0,m.jsx)(n(),{isOpen:f,onRequestClose:e=>{p(!1)},contentLabel:"Set Max Bet Limit",className:"modal-dialog",ariaHideApp:!1,children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsxs)("h5",{children:["Set Result ",a.fancyName]}),(0,m.jsx)("button",{onClick:()=>p(!1),className:"close float-right",children:"X"})]}),(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i||d.oR.error("Please enter result"),o.fancyResult(a.marketId,a.matchId,i).then((()=>{d.oR.success("Result Set"),p(!1),u(""),b()})).catch((e=>{const t=e;d.oR.error(t.message)}))},className:"form loginform",children:[(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsxs)("div",{className:"row form-group",children:[(0,m.jsx)("div",{className:"col-md-5",children:(0,m.jsx)("label",{children:"Enter Result"})}),(0,m.jsxs)("div",{className:"col-md-7",children:[(0,m.jsx)("input",{type:"text",name:"result",onChange:e=>u(e.target.value),value:i||""}),"fancy1"===a.gtype&&(0,m.jsx)("strong",{children:"Note: Yes=1, No=0"})]})]}),(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{type:"checkbox",name:"result",onChange:e=>u(e.target.value),value:"-1"})," ","Abandoned"]})]}),(0,m.jsxs)("div",{className:"modal-footer",children:[(0,m.jsxs)("button",{type:"button",onClick:()=>p(!1),className:"btn btn-info","data-dismiss":"modal",children:[(0,m.jsx)("i",{className:"fas fa-undo-alt"})," Close"]}),(0,m.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,m.jsx)("i",{className:"fas fa-paper-plane"})," Submit"]})]})]})]})})]});var v}}}]);