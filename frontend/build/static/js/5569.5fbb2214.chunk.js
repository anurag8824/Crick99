"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[5569],{5569:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});a(4919);var c=a(9950),s=a(2964),n=(a(9135),a(8429)),r=a(7232),i=a(4414);const o=()=>{const[e,t]=c.useState([]),{sportId:a,competitionId:o}=(0,n.g)();console.log(a);c.useEffect((()=>{a&&s.A.getSeriesWithMarket(a).then((e=>{const a=e.data.data;console.log("hello world",a);const c=[...a].sort(((e,t)=>new Date(e.matchDateTime)-new Date(t.matchDateTime))).filter(((e,t,a)=>t===a.findIndex((t=>t.matchId===e.matchId&&1!=e.seriesId)))),s=new Date,n=new Date(s.getTime()+2592e5);Array.from(new Map(c.filter((e=>{const t=new Date(e.matchDateTime);return t>=s&&t<=n})).map((e=>[e.matchId,e]))).values());t(c)})).catch((e=>{r.oR.error(e.message)}))}),[]);return console.log(e,"matches"),(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-md-12 main-container",children:(0,i.jsxs)("form",{onSubmit:t=>{t.preventDefault();const a=e.filter((e=>e.active));s.A.saveMatch(a).then((()=>{r.oR.success("Match Saved Successfully")})).catch((e=>{const t=e.response.data.message;r.oR.error(t)}))},children:[(0,i.jsx)("div",{className:"text-right",children:(0,i.jsx)("button",{className:"btn btn-primary mb-10",type:"submit",children:"Save Match"})}),(0,i.jsxs)("table",{className:"table table-bordered",children:[(0,i.jsx)("thead",{className:"thead-dark",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",children:"Matches"}),(0,i.jsx)("th",{scope:"col",children:"Open Date"}),(0,i.jsx)("th",{scope:"col",children:"Actions"})]})}),(0,i.jsx)("tbody",{children:e.map(((a,c)=>{var s,n;if("1"!=(null===a||void 0===a||null===(s=a.series)||void 0===s?void 0:s.id))return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:a.name}),(0,i.jsx)("td",{children:(n=null===a||void 0===a?void 0:a.matchDateTime,new Date(n).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}))}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"checkbox",name:a.name,onChange:a=>((a,c)=>{const s=[...e];console.log("items[indx]",JSON.stringify(s[c])),s[c].active=!!a.target.checked,t(s)})(a,c),value:a.name||"",checked:a.active})})]},c)}))})]})]})})})})}},9135:()=>{}}]);