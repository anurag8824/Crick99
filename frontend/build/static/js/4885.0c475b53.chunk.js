"use strict";(self.webpackChunkfair_react=self.webpackChunkfair_react||[]).push([[4885],{381:(e,s,t)=>{t.d(s,{A:()=>d});var a=t(9950),l=t(2509),n=t.n(l),i=t(4414);const d=(0,a.forwardRef)(((e,s)=>{let{onSuggestionsFetchRequested:t,onSelectUser:l,placeHolder:d,onSuggestionsClear:c}=e;const[r,o]=a.useState(""),[m,h]=a.useState([]),u={placeholder:d||"Search User",value:r,onChange:(e,s)=>{let{newValue:t}=s;o(t)}};return(0,a.useImperativeHandle)(s,(()=>({resetValue(){o(""),h([])}})),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n(),{suggestions:m,onSuggestionsFetchRequested:e=>{let{value:s}=e;o(s),t({value:s}).then((e=>{h(e.data.data)}))},onSuggestionsClearRequested:()=>{},getSuggestionValue:e=>(l(e),e.username),renderSuggestion:e=>(0,i.jsx)("div",{className:"dropdown-item",children:e.username}),inputProps:u,theme:{suggestionsList:"dropdown-menu show",input:"mx-input",suggestionsContainer:"dropdown"}})})}))},944:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(9950),l=t(8756),n=t(3784),i=t(7232),d=t(8429),c=t(4414);const r=e=>{let{show:s,close:t,data:r}=e;const o=(0,d.zy)(),[m,h]=(0,a.useState)("");return(0,c.jsxs)(l.A,{show:s,onHide:t,children:[(0,c.jsxs)("div",{className:"modal-header",children:[(0,c.jsx)("h5",{className:"modal-title",id:"rejectedModalCenterTitle",children:"Rejected Reason"}),(0,c.jsx)("button",{type:"button",className:"close",onClick:t,children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsxs)("form",{className:"container-fluid",onSubmit:async e=>{e.preventDefault();const s={id:r._id,narration:m,balanceUpdateType:"/depositstatement"==o.pathname?"D":"W",status:"rejected"},t=await n.A.updateDepositWithdrawStatus(s);try{var a;if(null!==t&&void 0!==t&&t.data)i.oR.success(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)}catch(d){var l;i.oR.error(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.message)}},children:[(0,c.jsx)("div",{className:"row m-b-20",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)("input",{type:"text",placeholder:"Enter Message",onChange:e=>{h(e.target.value)}})})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{type:"submit",className:"btn btn-secondary",onClick:t,children:"Submit"})})]})})]})}},1285:(e,s,t)=>{t.d(s,{A:()=>l});t(9950);var a=t(4414);const l=e=>{let{bankDetails:s}=e;return(0,a.jsx)("div",{className:"modal fade",id:"bankModal",tabIndex:-1,role:"dialog","aria-labelledby":"bankModalCenterTitle","aria-hidden":"true",children:(0,a.jsx)("div",{className:"modal-dialog modal-lg modal-login-new",role:"document",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-header",children:[(0,a.jsx)("h5",{className:"modal-title",id:"bankModalCenterTitle",children:"Details"}),(0,a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,a.jsx)("div",{className:"modal-body",children:s.imageUrl?(0,a.jsx)("div",{className:"container-fluid",children:(0,a.jsx)("div",{className:"row m-b-20",children:(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsx)("img",{src:"".concat("http://localhost:3000/").concat(s.imageUrl),alt:"image",style:{height:"auto",width:"100%"}})})})}):(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsxs)("div",{className:"row m-b-20",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("label",{className:"deposite-user-first",children:"Account Holder Name :"})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("label",{className:"deposite-user-first",style:{textTransform:"capitalize"},children:null===s||void 0===s?void 0:s.accountHolderName})})]}),(0,a.jsxs)("div",{className:"row m-b-20",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("label",{className:"deposite-user-first",children:"Account Number :"})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("label",{className:"deposite-user-first",style:{textTransform:"capitalize"},children:null===s||void 0===s?void 0:s.accountNumber})})]}),(0,a.jsxs)("div",{className:"row m-b-20",children:[(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("label",{className:"deposite-user-first",children:"IFSC Code :"})}),(0,a.jsx)("div",{className:"col-md-6",children:(0,a.jsx)("label",{className:"deposite-user-first",style:{textTransform:"capitalize"},children:null===s||void 0===s?void 0:s.ifscCode})})]})]})})]})})})}},4885:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var a=t(4919),l=t(9950),n=t(1377),i=t(4552),d=t(381),c=t(9051),r=t.n(c),o=t(9564),m=t(3784),h=t(9198),u=t.n(h),x=t(1285),p=t(7232),j=t(944),g=t(4414);const v=()=>{const[e,s]=l.useState({startDate:"",endDate:"",reportType:"",username:""}),[t,c]=(0,l.useState)([]),[h,v]=l.useState(0),[b,N]=(0,l.useState)({}),[y,f]=(0,l.useState)(!1),[w,A]=(0,l.useState)({});(0,l.useEffect)((()=>{S(1)}),[y]),l.useEffect((()=>{const t=e;t.startDate=r()().subtract(7,"days").format("YYYY-MM-DD"),t.endDate=r()().format("YYYY-MM-DD"),s(t)}),[]);const S=s=>{m.A.getDepositWithdrawLists((0,a.A)({type:"deposit"},e)).then((e=>{var s;return c(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data)}))},D=t=>{const a=e;a[t.target.name]=t.target.value,s(a)},C=async(e,s)=>{if("rejected"==s)f(!0),A(e);else{const n={id:e._id,narration:e.remark,balanceUpdateType:"D",status:s},i=await m.A.updateDepositWithdrawStatus(n);try{var t;if(null!==i&&void 0!==i&&i.data)S(1),p.oR.success(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.message)}catch(l){var a;p.oR.error(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)}}};return(0,g.jsxs)(g.Fragment,{children:[i.A.subheaderdesktopadmin("Deposit Statements"),(0,g.jsx)("div",{className:"container-fluid",children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)("div",{className:n.Fr?"col-md-12 padding-custom":"col-md-12 mt-1",children:[(0,g.jsx)("div",{className:"card-body p15 bg-gray mb-20",children:(0,g.jsx)("form",{className:"ng-pristine ng-valid ng-touched mb-0",method:"post",onSubmit:e=>{e.preventDefault(),S(1)},children:(0,g.jsxs)("div",{className:"row row5",children:[(0,g.jsxs)("div",{className:"col-6 col-lg-2 mbc-5",children:[(0,g.jsx)("label",{className:"label",children:"User"}),(0,g.jsx)(d.A,{onSuggestionsFetchRequested:e=>{let{value:s}=e;return o.A.getUserListSuggestion({username:s})},onChangeSelectValue:t=>{s((0,a.A)((0,a.A)({},e),{},{username:t}))}})]}),(0,g.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,g.jsxs)("div",{className:"form-group mb-0",children:[(0,g.jsx)("label",{className:"label",children:"Start Date"}),(0,g.jsx)("div",{className:"mx-datepicker",children:(0,g.jsx)("div",{className:"mx-input-wrapper",children:(0,g.jsx)("input",{name:"startDate",type:"date",autoComplete:"off",onChange:D,defaultValue:e.startDate,placeholder:"Select Date",className:"mx-input ng-pristine ng-valid ng-touched"})})})]})}),(0,g.jsx)("div",{className:"col-6 col-lg-2 mbc-5",children:(0,g.jsxs)("div",{className:"form-group mb-0",children:[(0,g.jsx)("label",{className:"label",children:"End Date"}),(0,g.jsx)("div",{className:"mx-datepicker",children:(0,g.jsx)("div",{className:"mx-input-wrapper",children:(0,g.jsx)("input",{name:"endDate",type:"date",autoComplete:"off",defaultValue:e.endDate,onChange:D,placeholder:"Select Date",className:"mx-input ng-untouched ng-pristine ng-valid"})})})]})}),(0,g.jsx)("div",{className:"col-12 col-lg-2 mbc-5",children:(0,g.jsxs)("div",{className:"form-group mb-0",children:[(0,g.jsx)("label",{className:"label",children:"Type"}),(0,g.jsxs)("select",{name:"reportType",onChange:D,className:"custom-select ng-untouched ng-pristine ng-valid",children:[(0,g.jsx)("option",{value:"",children:"All "}),(0,g.jsx)("option",{value:"approved",children:"Approved"}),(0,g.jsx)("option",{value:"pending",children:"Pending"}),(0,g.jsx)("option",{value:"rejected",children:"Rejected"})]})]})}),(0,g.jsxs)("div",{className:"col-12 col-lg-1 mbc-5",children:[(0,g.jsx)("label",{className:"label",children:"\xa0"}),(0,g.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Submit"})]})]})})}),(0,g.jsxs)("div",{className:"card-body",children:[(0,g.jsx)("div",{className:"table-responsive",children:(0,g.jsxs)("table",{className:"table table-bordered",id:"customers1",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"bg2 text-white",style:{width:"10%",textAlign:"center",whiteSpace:"nowrap"},children:"Date"}),(0,g.jsx)("th",{className:"bg2 text-white",style:{width:"20%",textAlign:"center",whiteSpace:"nowrap"},children:"User Name"}),(0,g.jsx)("th",{className:"bg2 text-white",style:{width:"10%",textAlign:"center"},children:"Details"}),(0,g.jsx)("th",{className:"bg2 text-white",style:{width:"10%",textAlign:"center"},children:"Approved By"}),(0,g.jsx)("th",{className:"bg2 text-white",style:{width:"10%",textAlign:"center"},children:"Request Type"}),(0,g.jsx)("th",{className:"bg2 text-white",style:{width:"10%",textAlign:"center"},children:"Amount"}),(0,g.jsx)("th",{className:"bg2 text-white",style:{width:"10%",textAlign:"center"},children:"Status"}),(0,g.jsx)("th",{className:"bg2 text-white",style:{width:"35%",textAlign:"center"},children:"Action"})]})}),(0,g.jsx)("tbody",{children:t?t.map((e=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{style:{textAlign:"center"},children:r()(e.createdAt).format("DD/MM/YYYY h:mm:ss A")}),(0,g.jsx)("td",{style:{textAlign:"center"},children:e.username}),(0,g.jsx)("td",{style:{textAlign:"center"},children:(0,g.jsx)("button",{"data-toggle":"modal","data-target":"#bankModal",onClick:()=>{N(e)},children:"View"})}),(0,g.jsx)("td",{}),(0,g.jsx)("td",{style:{textAlign:"center"},children:e.type}),(0,g.jsx)("td",{style:{textAlign:"center"},children:e.amount}),(0,g.jsxs)("td",{style:{textAlign:"center"},children:[" ","rejected"==e.status?(0,g.jsx)("p",{style:{color:"red",textTransform:"capitalize"},children:e.status}):"pending"==e.status?(0,g.jsx)("p",{style:{color:"orange",textTransform:"capitalize"},children:e.status}):(0,g.jsx)("p",{style:{color:"green",textTransform:"capitalize"},children:e.status})]}),(0,g.jsx)("td",{style:{textAlign:"center"},children:"pending"==e.status?(0,g.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,g.jsx)("button",{onClick:()=>C(e,"approved"),children:"Approved"}),(0,g.jsx)("button",{onClick:()=>C(e,"rejected"),children:"Rejected"})]}):(0,g.jsx)("p",{children:"-"})})]},e._id))):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:9,className:"text-center",children:"No Result Found"})})})]})}),(0,g.jsx)(u(),{breakLabel:"...",nextLabel:">>",pageRangeDisplayed:5,pageCount:h,containerClassName:"pagination",activeClassName:"active",previousLabel:"<<",breakClassName:"break-me"})]})]}),(0,g.jsx)(x.A,{bankDetails:b}),(0,g.jsx)(j.A,{show:y,close:()=>f(!y),data:w})]})})]})}}}]);